webpackJsonp([14],{"/ZUz":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,a,r,i=n("Xxa5"),o=n.n(i),u=n("exGp"),c=n.n(u),p=n("VsUZ"),l=(s=c()(o.a.mark(function t(e){var n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="/env/position/getListSelf",t.next=3,p.a.get(n,{params:e});case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}},t,this)})),function(t){return s.apply(this,arguments)}),g=(a=c()(o.a.mark(function t(e){var n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="/env/position/publish/"+e,t.next=3,p.a.post(n);case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)}),f=(r=c()(o.a.mark(function t(e){var n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="/env/position/publishCancel/"+e,t.next=3,p.a.post(n);case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)}),v={name:"positionManage",data:function(){return{loading:!1,listData:[],pageInfo:{page:1,limit:10}}},mounted:function(){this.getList(this.pageInfo)},methods:{jumpRouter:function(t){this.$router.push({name:t})},handleSizeChange:function(t){},handleCurrentChange:function(t){},getList:function(t){var e=this;l(t).then(function(t){200===t.code?e.listData=t:e.$message.error(t.msg)})},formatWorkAdd:function(t){var e=[],n="-";return t.workCity&&e.push(t.workCity),t.workAdr&&e.push(t.workAdr),e.length&&(n="["+e.join("·")+"]"),n},closeOpen:function(t){var e=this,n="",s="";2===t.status&&(n="职位关闭后，人员将无法查看以及搜索此职位信息",s="职位关闭"),3===t.status&&(n="职位通过审核后，将会在职位招聘中进行显示",s="职位打开"),this.$confirm(n,s,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,2===t.status&&e.setPublishCancel(t.id),3===t.status&&e.setPublish(t.id)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},setPublish:function(t){var e=this;g(t).then(function(t){console.log(t,"000"),200===t.code?e.$message({message:"操作成功",type:"success"}):e.$message.error(t.msg),e.loading=!1})},setPublishCancel:function(t){var e=this;f(t).then(function(t){200===t.code?e.$message({message:"操作成功",type:"success"}):e.$message.error(t.msg),e.loading=!1})}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"position-wrap"},[n("div",{staticClass:"position-box"},[n("el-button",{staticClass:"release",attrs:{type:"primary"},on:{click:function(e){return t.jumpRouter("release")}}},[t._v("发布职位")]),t._v(" "),n("ul",{staticClass:"position-list"},t._l(t.listData.rows,function(e,s){return n("li",{key:s,class:{close:3===e.status}},[n("div",{staticClass:"text"},[n("div",{staticClass:"title"},[n("h4",[t._v(t._s(e.positionName))]),t._v(" "),n("span",[t._v(t._s(t.formatWorkAdd(e)))])]),t._v(" "),n("div",{staticClass:"tag"},[n("span",[t._v(t._s(e.salaryReq))]),t._v(" "),n("span",[t._v(t._s(e.expReq)+"年")]),t._v(" "),n("span",[t._v(t._s(e.eduReq))])])]),t._v(" "),n("div",{staticClass:"opt"},[n("span",[t._v(t._s(e.createTime)+"发布")]),t._v(" "),n("el-button",{attrs:{type:"text"}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.closeOpen(e)}}},[t._v(t._s(3===e.status?"打开":"关闭"))])],1),t._v(" "),3===e.status?n("el-tag",{attrs:{size:"mini",type:"info"}},[t._v("职位关闭")]):t._e()],1)}),0),t._v(" "),n("div",{staticClass:"page"},[n("el-pagination",{attrs:{"current-page":t.pageInfo.page,"page-size":t.pageInfo.limit,layout:"prev, pager, next, jumper",total:t.listData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.pageInfo,"page",e)},"update:current-page":function(e){return t.$set(t.pageInfo,"page",e)}}})],1)],1)])},staticRenderFns:[]};var h=n("VU/8")(v,d,!1,function(t){n("EZMj")},"data-v-5bc4b16a",null);e.default=h.exports},EZMj:function(t,e){}});
//# sourceMappingURL=14.00f65fc4788f18b1c2fa.js.map