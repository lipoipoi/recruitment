{"version":3,"sources":["webpack:///src/views/compoments/SIdentify.vue","webpack:///./src/views/compoments/SIdentify.vue?1fb3","webpack:///./src/views/compoments/SIdentify.vue","webpack:///src/views/regist.vue","webpack:///./src/views/regist.vue?5437","webpack:///./src/views/regist.vue","webpack:///./src/api/loginReg.js"],"names":["SIdentify","name","props","identifyCode","type","String","default","fontSizeMin","Number","fontSizeMax","backgroundColorMin","backgroundColorMax","colorMin","colorMax","lineColorMin","lineColorMax","dotColorMin","dotColorMax","contentWidth","contentHeight","methods","randomNum","min","max","Math","floor","random","randomColor","this","drawPic","ctx","document","getElementById","getContext","textBaseline","fillStyle","fillRect","i","length","drawText","drawLine","drawDot","txt","font","x","y","deg","translate","rotate","PI","fillText","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","fill","watch","mounted","compoments_SIdentify","render","_h","$createElement","_c","_self","staticClass","attrs","id","width","height","staticRenderFns","regist","components","__webpack_require__","normalizeComponent","ssrContext","data","_this","identifyCodes","ruleForm","phonenumber","password","code","checked","rules","required","message","trigger","validator","rule","value","callback","Error","changeCode","console","log","_this2","makeCode","resiZie","window","onresize","len","changeType","headerHeight","$root","$children","$refs","header","$el","offsetHeight","fooer","footer","registMoudel","style","innerHeight","submitForm","formName","_this3","validate","valid","_param","userType","Object","loginReg","then","res","$router","push","alert","views_regist","_vm","ref","model","label-width","class","on","click","$event","_v","prop","placeholder","$$v","$set","expression","label","to","regist_Component","regist_normalizeComponent","__webpack_exports__","_ref","_ref2","_ref3","register","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","a","mark","_callee","params","_str","path","wrap","_context","prev","next","api","post","sent","abrupt","stop","_x","apply","arguments","login","_callee2","_context2","_x2","captchaImage","_callee3","_context3","get","_x3"],"mappings":"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","file":"static/js/2.4f4d21f97db66bb94933.js","sourcesContent":["<template>\r\n <div class=\"s-canvas\">\r\n <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"></canvas>\r\n </div>\r\n</template>\r\n<script>\r\n export default {\r\n name: 'SIdentify',\r\n props: {\r\n identifyCode: {\r\n type: String,\r\n default: '1234'\r\n },\r\n fontSizeMin: {\r\n type: Number,\r\n default: 25\r\n },\r\n fontSizeMax: {\r\n type: Number,\r\n default: 30\r\n },\r\n backgroundColorMin: {\r\n type: Number,\r\n default: 255\r\n },\r\n backgroundColorMax: {\r\n type: Number,\r\n default: 255\r\n },\r\n colorMin: {\r\n type: Number,\r\n default: 0\r\n },\r\n colorMax: {\r\n type: Number,\r\n default: 160\r\n },\r\n lineColorMin: {\r\n type: Number,\r\n default: 100\r\n },\r\n lineColorMax: {\r\n type: Number,\r\n default: 255\r\n },\r\n dotColorMin: {\r\n type: Number,\r\n default: 0\r\n },\r\n dotColorMax: {\r\n type: Number,\r\n default: 255\r\n },\r\n contentWidth: {\r\n type: Number,\r\n default: 114\r\n },\r\n contentHeight: {\r\n type: Number,\r\n default: 39\r\n }\r\n },\r\n methods: {\r\n // 生成一个随机数\r\n randomNum(min, max) {\r\n return Math.floor(Math.random() * (max - min) + min)\r\n },\r\n // 生成一个随机的颜色\r\n randomColor(min, max) {\r\n let r = this.randomNum(min, max)\r\n let g = this.randomNum(min, max)\r\n let b = this.randomNum(min, max)\r\n return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n },\r\n drawPic() {\r\n let canvas = document.getElementById('s-canvas')\r\n let ctx = canvas.getContext('2d')\r\n ctx.textBaseline = 'bottom'\r\n // 绘制背景\r\n ctx.fillStyle = this.randomColor(this.backgroundColorMin, this.backgroundColorMax)\r\n ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n // 绘制文字\r\n for (let i = 0; i < this.identifyCode.length; i++) {\r\n  this.drawText(ctx, this.identifyCode[i], i)\r\n }\r\n this.drawLine(ctx)\r\n this.drawDot(ctx)\r\n },\r\n drawText(ctx, txt, i) {\r\n ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\r\n ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei'\r\n let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n var deg = this.randomNum(-45, 45)\r\n // 修改坐标原点和旋转角度\r\n ctx.translate(x, y)\r\n ctx.rotate(deg * Math.PI / 180)\r\n ctx.fillText(txt, 0, 0)\r\n // 恢复坐标原点和旋转角度\r\n ctx.rotate(-deg * Math.PI / 180)\r\n ctx.translate(-x, -y)\r\n },\r\n drawLine(ctx) {\r\n // 绘制干扰线\r\n for (let i = 0; i < 5; i++) {\r\n  ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax)\r\n  ctx.beginPath()\r\n  ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n  ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n  ctx.stroke()\r\n }\r\n },\r\n drawDot(ctx) {\r\n // 绘制干扰点\r\n for (let i = 0; i < 80; i++) {\r\n  ctx.fillStyle = this.randomColor(0, 255)\r\n  ctx.beginPath()\r\n  ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\r\n  ctx.fill()\r\n }\r\n }\r\n },\r\n watch: {\r\n identifyCode() {\r\n this.drawPic()\r\n }\r\n },\r\n mounted() {\r\n this.drawPic()\r\n }\r\n }\r\n</script>\r\n<style scoped>\r\n .s-canvas {\r\n height: 38px;\r\n \r\n }\r\n .s-canvas canvas{\r\n margin-top: 1px;\r\n margin-left: 8px;\r\n }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/compoments/SIdentify.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"s-canvas\"},[_c('canvas',{attrs:{\"id\":\"s-canvas\",\"width\":_vm.contentWidth,\"height\":_vm.contentHeight}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ebfe20e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/compoments/SIdentify.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ebfe20e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SIdentify.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SIdentify.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SIdentify.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ebfe20e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SIdentify.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0ebfe20e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/compoments/SIdentify.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container\"> \r\n    <div class=\"registMoudel\" ref=\"registMoudel\">\r\n        <div class=\"registForm\">\r\n          <el-form ref=\"ruleForm\" :rules=\"rules\" :model=\"ruleForm\" label-width=\"80px\">\r\n            <el-form-item class=\"type\">\r\n                <button type=\"button\" @click=\"changeType(1)\" :class=\"type===1?'active':''\">我要找工作</button>\r\n                <button type=\"button\" @click=\"changeType(0)\" :class=\"type===0?'active':''\">我要找招聘</button>\r\n            </el-form-item>\r\n            <el-form-item class=\"phone\"  prop=\"phonenumber\">\r\n              <span>+86</span><el-input v-model=\"ruleForm.phonenumber\" type=\"text\" placeholder=\"请输入手机号码\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item class=\"pwd\"  prop=\"password\">\r\n              <el-input v-model=\"ruleForm.password\" type=\"password\" placeholder=\"请输入账号密码\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item class=\"codeModel\"  prop=\"code\">\r\n              <div class=\"code\">\r\n                <el-input v-model=\"ruleForm.code\" placeholder=\"请输入验证码\"></el-input>\r\n              </div>\r\n              <div class=\"codeCanvas\" @click=\"changeCode\">\r\n                <s-identify :identifyCode=\"identifyCode\" ></s-identify>\r\n              </div>\r\n            </el-form-item>\r\n            <div class=\"loginBtn\">\r\n              <button type=\"button\"  @click=\"submitForm('ruleForm')\">登录创业平台</button>  \r\n            </div>\r\n            <el-form-item class=\"agree\" prop=\"checked\">\r\n              <el-checkbox  label=\"我已同意用户协议及隐私政策\" name=\"type\" v-model=\"ruleForm.checked\"/>\r\n              <span class=\"regist\"><router-link to=\"/Login\">去登陆</router-link></span>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {register} from '@/api/loginReg'\r\nimport SIdentify from './compoments/SIdentify'\r\nexport default {\r\n  name:'regist',\r\n  components:{\r\n    SIdentify\r\n  },\r\n  data(){\r\n  // 验证码自定义验证规则\r\n    const validateVerifycode = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请输入验证码'))\r\n      } else if (value !== this.identifyCode) {\r\n        this.changeCode();\r\n        callback(new Error('验证码不正确!'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n  // 勾选协议\r\n    const validateVerifychecked = (rule, value, callback) => {\r\n      console.log(value)\r\n      if (value === false) {\r\n        callback(new Error('请勾选用户协议及隐私政策'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return{\r\n      // 求职为1，招聘为0\r\n      type:1,\r\n      identifyCodes:'123456789',\r\n      identifyCode:'1234',\r\n      ruleForm:{\r\n        phonenumber:'',\r\n        password:'',\r\n        code:'',\r\n        checked:false\r\n      },\r\n      rules:{\r\n        phonenumber:[\r\n            { required: true, message: '手机号不能为空', trigger: 'change' }\r\n        ],\r\n        password:[\r\n            { required: true, message: '密码不能为空', trigger: 'change' }\r\n        ],\r\n        code:[\r\n            { required: true, message: '验证码不能为空', trigger: 'change' },\r\n            { required: true, trigger: 'blur', validator: validateVerifycode }\r\n        ],\r\n        checked:[\r\n            { required: true, trigger: 'change',validator: validateVerifychecked }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n      this.identifyCode = ''\r\n    this.makeCode(this.identifyCodes, 4)\r\n     this.resiZie()\r\n     window.onresize = () => {\r\n        return (() => {\r\n          this.resiZie()\r\n        })()\r\n    }\r\n  },\r\n  methods: {\r\n    // 点击验证码刷新验证码\r\n    changeCode () {\r\n      this.identifyCode = ''\r\n      this.makeCode(this.identifyCodes, 4)\r\n      console.log(this.identifyCode)\r\n    },\r\n    // 生成一个随机整数  randomNum(0, 10) 0 到 10 的随机整数， 包含 0 和 10\r\n    randomNum (min, max) {\r\n      max = max + 1\r\n      return Math.floor(Math.random() * (max - min) + min)\r\n    },\r\n    // 随机生成验证码字符串\r\n    makeCode (data, len) {\r\n      for (let i = 0; i < len; i++) {\r\n        this.identifyCode += data[this.randomNum(0, data.length - 1)]\r\n      }\r\n    },\r\n    changeType(type){\r\n      this.type = type;\r\n    },\r\n    resiZie(){\r\n      const headerHeight = this.$root.$children[0].$children[0].$refs.header.$el.offsetHeight;\r\n      const fooer = this.$root.$children[0].$children[0].$refs.footer.$el.offsetHeight;\r\n      this.$refs.registMoudel.style.height =(window.innerHeight - headerHeight - fooer) +'px';\r\n    },   \r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n\r\n        if (valid) {\r\n          let _param = {\r\n            userType:this.type,\r\n            phonenumber:this.ruleForm.phonenumber,\r\n            password:this.ruleForm.password\r\n          }\r\n          register(_param).then(res=>{\r\n            console.log(res)\r\n            if(res.code === 200){\r\n              this.$router.push({ name: 'ComplitInfo'});\r\n            }\r\n          })\r\n          alert('submit!');\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" >\r\n  .registMoudel{\r\n    width: 100%;\r\n    position: relative;\r\n    background: url('../assets/img/loginBg.jpg') repeat-y;\r\n    background-size: 100% 100%;\r\n    .registForm{\r\n      width: 287px;\r\n      height: 306px;\r\n      padding: 30px;\r\n      position: absolute;\r\n      right: 40px;bottom: 0; top: 0;\r\n      margin: auto;\r\n      background-color: #fff;\r\n      border-radius: 5px;    \r\n      font-size: 13px;\r\n      letter-spacing: normal;\r\n      color: #333333;\r\n      text-align: left;\r\n      .type{\r\n          margin: 10px;\r\n        .el-form-item__content{\r\n          margin-left:0!important;\r\n          text-align: left;\r\n        }\r\n        button{\r\n          padding:0px 20px;\r\n          height: 35px;\r\n          line-height:35px;\r\n          display: inline-block;\r\n          background-color: #fff;\r\n          outline: none;\r\n          color: #10bbb8;\r\n          border: 1px solid #10bbb8;\r\n          border-radius: 3px;\r\n          &:hover{\r\n            cursor: pointer;\r\n          }\r\n          &.active{\r\n            color: #fff;\r\n            background-color: #10bbb8;\r\n          }\r\n        }\r\n        button+button{\r\n          margin-left: 35px;\r\n        }\r\n      }\r\n      \r\n      .phone{\r\n        .el-form-item__content{\r\n          margin-left:0!important;\r\n          text-align: left;\r\n        }\r\n        background: url('../assets/img/phone.png') no-repeat;\r\n        height: 40px;\r\n        margin:0 10px 20px 10px;\r\n        border:1px solid #10bbb8;\r\n        background-size: 40px;\r\n        border-radius: 5px;\r\n        padding-left: 40px;\r\n        text-align: left;\r\n        span{\r\n          display: inline-block;\r\n          width: 20px;\r\n          height: 40px;\r\n          line-height: 40px;\r\n          margin:0 10px;\r\n          color: #858585;\r\n        }\r\n        .el-input{\r\n          width:180px;\r\n          line-height: 40px;\r\n          color: #858585;\r\n          .el-input__inner{\r\n            border: 0 none;\r\n            outline: 0 none;\r\n            padding: 0;\r\n            height:40px;\r\n          }\r\n        }\r\n        .el-form-item__error{\r\n          left: -40px;\r\n        }\r\n      }\r\n      .pwd{\r\n        .el-form-item__content{\r\n          margin-left:0!important;\r\n          text-align: left;\r\n        }\r\n        background: url('../assets/img/pwd.png') no-repeat 3px 5px;\r\n        height: 40px;\r\n        margin:0 10px 20px 10px;\r\n        border:1px solid #10bbb8;\r\n        background-size:  32px 33px;\r\n        border-radius: 5px;\r\n        padding-left: 40px;\r\n        text-align: left;\r\n        .el-input{\r\n          margin-left: 10px;\r\n          height:40px;\r\n          line-height: 40px;\r\n          color: #858585;\r\n          .el-input__inner{\r\n            border: 0 none;\r\n            width:180px;\r\n            outline: 0 none;\r\n            padding: 0;\r\n          }\r\n        }\r\n        .el-form-item__error{\r\n          left: -40px;\r\n        }\r\n      }\r\n      .codeModel{\r\n        margin:0 0px 20px 10px;\r\n        .el-form-item__content{\r\n          margin-left:0!important;\r\n          text-align: left;\r\n        }\r\n        text-align: left;\r\n        .codeCanvas{\r\n          margin-left: 10px;\r\n          display: inline-block;\r\n          border: 1px solid #10bbb8;\r\n          height:40px;\r\n          line-height: 40px;\r\n          vertical-align: middle;\r\n          border-radius: 3px;\r\n        }\r\n        .code{\r\n            display: inline-block;\r\n            background: url('../assets/img/code.png') no-repeat 3px 5px;\r\n            height: 40px;\r\n            border:1px solid #10bbb8;\r\n            background-size:  32px 33px;\r\n            border-radius: 5px;\r\n            padding-left: 40px;\r\n            width: 90px;\r\n            text-align: left;\r\n            input{\r\n              margin-left: 10px;\r\n              width:75px;\r\n              height:40px;\r\n              line-height: 40px;\r\n              border: 0 none;\r\n              outline: 0 none;\r\n              padding: 0;\r\n              color: #858585;\r\n            }\r\n          }\r\n      }\r\n      .loginBtn{\r\n        margin: 0px 10px 0 10px;\r\n        button{\r\n          display: inline-block;\r\n          background-color: #10bbb8;\r\n          outline: none;\r\n          color: #fff;\r\n          width: 100%;\r\n          padding: 10px 0;\r\n          border: 0 none;\r\n          border-radius: 3px;\r\n          &:hover{\r\n            cursor: pointer;\r\n          }\r\n        }\r\n      }\r\n      .agree{\r\n        margin: 10px 10px 0 10px;\r\n        text-align: left;\r\n        .el-form-item__content{\r\n          margin-left:0!important;\r\n          text-align: left;\r\n          font-size: 12px;\r\n          line-height: 12px;\r\n          .el-checkbox__label{\r\n            font-size: 12px;\r\n          }\r\n        }\r\n        input{\r\n          vertical-align: -2px;\r\n        }\r\n        .regist{\r\n          float: right;\r\n          a{\r\n            color: #3F9DFF;\r\n            &:hover{\r\n            cursor: pointer;\r\n            text-decoration: underline;\r\n            }\r\n          }\r\n          line-height: 18px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/regist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{ref:\"registMoudel\",staticClass:\"registMoudel\"},[_c('div',{staticClass:\"registForm\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.ruleForm,\"label-width\":\"80px\"}},[_c('el-form-item',{staticClass:\"type\"},[_c('button',{class:_vm.type===1?'active':'',attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.changeType(1)}}},[_vm._v(\"我要找工作\")]),_vm._v(\" \"),_c('button',{class:_vm.type===0?'active':'',attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.changeType(0)}}},[_vm._v(\"我要找招聘\")])]),_vm._v(\" \"),_c('el-form-item',{staticClass:\"phone\",attrs:{\"prop\":\"phonenumber\"}},[_c('span',[_vm._v(\"+86\")]),_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号码\"},model:{value:(_vm.ruleForm.phonenumber),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"phonenumber\", $$v)},expression:\"ruleForm.phonenumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"pwd\",attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入账号密码\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"codeModel\",attrs:{\"prop\":\"code\"}},[_c('div',{staticClass:\"code\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入验证码\"},model:{value:(_vm.ruleForm.code),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"code\", $$v)},expression:\"ruleForm.code\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"codeCanvas\",on:{\"click\":_vm.changeCode}},[_c('s-identify',{attrs:{\"identifyCode\":_vm.identifyCode}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"loginBtn\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"登录创业平台\")])]),_vm._v(\" \"),_c('el-form-item',{staticClass:\"agree\",attrs:{\"prop\":\"checked\"}},[_c('el-checkbox',{attrs:{\"label\":\"我已同意用户协议及隐私政策\",\"name\":\"type\"},model:{value:(_vm.ruleForm.checked),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checked\", $$v)},expression:\"ruleForm.checked\"}}),_vm._v(\" \"),_c('span',{staticClass:\"regist\"},[_c('router-link',{attrs:{\"to\":\"/Login\"}},[_vm._v(\"去登陆\")])],1)],1)],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-464b55fd\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/regist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-464b55fd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./regist.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./regist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./regist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-464b55fd\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./regist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/regist.vue\n// module id = null\n// module chunks = ","// 简历信息管理接口\r\nimport api from '../utils/api';\r\n\r\n// 获取简历列表\r\nexport async function register(params) {\r\n    let _str = '?'\r\n    for(let i in params) {\r\n        _str += i + '='+params[i] + '&'\r\n    }\r\n    const path = '/env/user/register'+_str;\r\n    const data = await api.post(path);\r\n    return data;\r\n}\r\n// 获取简历列表\r\nexport async function login(params) {\r\n    let _str = '?'\r\n    for(let i in params) {\r\n        _str += i + '='+params[i] + '&'\r\n    }\r\n    const path = '/env/user/login'+_str;\r\n    const data = await api.post(path,params);\r\n    return data;\r\n}\r\n// 获取验证码\r\nexport async function captchaImage(params) {\r\n    const path = '/captchaImage';\r\n    const data = await api.get(path,{params});\r\n    return data;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/loginReg.js"],"sourceRoot":""}