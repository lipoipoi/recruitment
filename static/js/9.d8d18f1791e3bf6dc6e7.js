webpackJsonp([9],{"AtM/":function(e,r,t){"use strict";t.d(r,"c",function(){return d}),t.d(r,"b",function(){return m}),t.d(r,"a",function(){return p});var s,n,o,a=t("Xxa5"),i=t.n(a),c=t("exGp"),u=t.n(c),l=t("VsUZ"),d=(s=u()(i.a.mark(function e(r){var t,s,n,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(s in t="?",r)t+=s+"="+r[s]+"&";return n="/env/user/register"+t,e.next=5,l.a.post(n);case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)}),m=(n=u()(i.a.mark(function e(r){var t,s,n,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(s in t="?",r)t+=s+"="+r[s]+"&";return n="/env/user/login"+t,e.next=5,l.a.post(n,r);case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),p=(o=u()(i.a.mark(function e(r){var t,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/captchaImage",e.next=3,l.a.get(t,{params:r});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},QD6Y:function(e,r){},Quw4:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("AtM/"),n={name:"login",data:function(){return{codeSrc:"",ruleForm:{username:"",password:"",code:"",uuid:"",checked:!1},rules:{username:[{required:!0,message:"手机号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}],checked:[{required:!0,trigger:"change",validator:function(e,r,t){console.log(r),!1===r?t(new Error("请勾选用户协议及隐私政策")):t()}}]}}},mounted:function(){var e=this;this.resiZie(),window.onresize=function(){e.resiZie()},this.changeCode()},methods:{resiZie:function(){var e=this.$root.$children[0].$children[0].$refs.header.$el.offsetHeight,r=this.$root.$children[0].$children[0].$refs.footer.$el.offsetHeight;this.$refs.loginMoudel.style.height=window.innerHeight-e-r+"px"},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Object(s.b)(r.ruleForm).then(function(e){200===e.code?(localStorage.setItem("token",e.token),r.$router.push({name:"HomePage"})):r.$message.error(e.msg)})})},changeCode:function(){var e=this;Object(s.a)().then(function(r){200===r.code?(e.codeSrc="data:image/jpeg;base64,"+r.img,e.ruleForm.uuid=r.uuid):e.$message.error(r.msg)})}}},o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"container"},[t("div",{ref:"loginMoudel",staticClass:"loginMoudel"},[t("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"80px"}},[t("div",{staticClass:"loginForm"},[t("p",{staticClass:"title mt25"},[e._v("甘肃省环保专业大学生")]),e._v(" "),t("p",{staticClass:"title mb25"},[e._v("就业创业平台")]),e._v(" "),t("el-form-item",{staticClass:"phone",attrs:{prop:"username"}},[t("span",[e._v("+86")]),t("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),e._v(" "),t("el-form-item",{staticClass:"pwd",attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入账号密码"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),e._v(" "),t("el-form-item",{staticClass:"codeModel",attrs:{prop:"code"}},[t("div",{staticClass:"code"},[t("el-input",{attrs:{placeholder:"验证码"},model:{value:e.ruleForm.code,callback:function(r){e.$set(e.ruleForm,"code",r)},expression:"ruleForm.code"}})],1),e._v(" "),t("div",{staticClass:"codeCanvas",on:{click:e.changeCode}},[t("img",{attrs:{src:e.codeSrc,alt:"点击刷新"}})])]),e._v(" "),t("div",{staticClass:"loginBtn"},[t("button",{attrs:{type:"button"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("登录创业平台")])]),e._v(" "),t("el-form-item",{staticClass:"agree",attrs:{prop:"checked"}},[t("el-checkbox",{attrs:{label:"我已同意用户协议及隐私政策",name:"type"},model:{value:e.ruleForm.checked,callback:function(r){e.$set(e.ruleForm,"checked",r)},expression:"ruleForm.checked"}}),e._v(" "),t("span",{staticClass:"regist"},[t("router-link",{attrs:{to:"/Regist"}},[e._v("免费注册")])],1)],1)],1)])],1)])},staticRenderFns:[]};var a=t("VU/8")(n,o,!1,function(e){t("QD6Y")},null,null);r.default=a.exports}});
//# sourceMappingURL=9.d8d18f1791e3bf6dc6e7.js.map